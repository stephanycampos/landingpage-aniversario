(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3161],{85681:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return U},default:function(){return D}});var t=i(55941),o=i(35835),c=i(98431),r=i(34587),s=i.n(r),a=i(44886),l=i(79644),d=i.n(l),p=i(62049),f=i.n(p),u=i(61395),m=i(81643),h=i(19052),x=i(48109),g=i(68339),w=i(56176),v=i(26765);var _=i(32276),b=i(99698),j=i(83133),P=i(33894),C=i(34343),Z=i(94947),y=i(39097),N=i(77166),T=i(58498),k=i(52838),E=i(94271);function S(e){var n=e.initialTopics,i=(0,u.Z)().t,r=((0,y.GI)(),(0,_.Z)(["CAN_VIEW_UNPUBLISHED_TOPIC_PAGES"],_.G)),a=function(e){var n=t.useState(!1),i=(0,c.Z)(n,2),o=i[0],r=i[1];return t.useEffect((function(){function n(n){n.code===e&&r(!0)}function i(n){n.code===e&&r(!1)}return window.addEventListener("keydown",n),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",i)}}),[e]),o}("ShiftLeft"),l=t.useState(!1),p=(0,c.Z)(l,2),P=p[0],C=p[1],S=t.useState(n),U=(0,c.Z)(S,2),D=U[0],F=U[1],M=(0,m.d4)(b.RZ.collection("topics"),{idField:"id"}),X=(0,c.Z)(M,1)[0];t.useEffect((function(){F(n)}),[n]),t.useEffect((function(){X&&r&&F(X)}),[X,r]);var B=D.filter((function(e){return e.isPublished}));function K(e,n){return V.apply(this,arguments)}function V(){return(V=(0,o.Z)(s().mark((function e(n,i){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.RZ.collection("topics").doc(n.id).update({sortWeight:(n.sortWeight||0)+i});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=a?3:1;return(0,E.jsxs)(h.Z,{header:r&&P&&(0,E.jsx)(g.g,{className:"dark",children:(0,E.jsxs)(N.K,{gap:2,className:"items-center",children:[(0,E.jsx)(w.O,{darkMode:!0}),(0,E.jsx)(T.z,{variant:"naked",iconLeft:"close",onClick:function(){return C(!1)},children:"Exit Editor Mode"})]})}),children:[(0,E.jsx)(v.U,{title:i("common:all-topics-header")}),(0,E.jsxs)(W,{children:[(0,E.jsx)(H,{children:i("common:all-topics-header")}),r&&!P&&(0,E.jsx)(T.z,{onClick:function(){return C(!0)},iconLeft:"pencil",children:i("common:edit")})]}),(0,E.jsx)(z,{children:i("common:all-topics-subheader")}),(0,E.jsx)(Z.r,{columns:{xs:2,sm:3,md:3,lg:3},children:(0,j.R)(P?D:B).map((function(e){return(0,E.jsxs)(I,{children:[(0,E.jsx)(f(),{href:"/categories/".concat(e.slug),passHref:!0,children:(0,E.jsx)(A,{children:(0,E.jsx)(L,{src:e.coverPhoto})})}),r&&P?(0,E.jsxs)(E.Fragment,{children:[e.isPublished?(0,E.jsx)(R,{children:e.name}):(0,E.jsx)(x.C,{withTrigger:!0,value:e.name,onSave:function(n){b.RZ.collection("topics").doc(e.id).update({name:n.value,slug:d()(n.value,{lower:!0,strict:!0})})},children:(0,E.jsx)(R,{children:e.name})}),(0,E.jsxs)(G,{children:[(0,E.jsx)(k.h,{icon:"arrowUp",onClick:function(){return K(e,q)}}),(0,E.jsx)(k.h,{icon:"arrowDown",onClick:function(){return K(e,-q)}}),(0,E.jsxs)(O,{children:["Sort Weight: ",e.sortWeight]})]})]}):(0,E.jsx)(R,{children:e.name})]},e.id)}))})]})}var I=a.ZP.div.withConfig({displayName:"AllTopicsPage__TopicContainer",componentId:"sc-1wxvfbc-0"})(["display:flex;flex-direction:column;width:100%;margin-bottom:8px;"]),A=a.ZP.a.withConfig({displayName:"AllTopicsPage__TopicCoverLink",componentId:"sc-1wxvfbc-1"})(["position:relative;padding-top:55%;margin-bottom:4px;"]),L=a.ZP.img.withConfig({displayName:"AllTopicsPage__TopicCover",componentId:"sc-1wxvfbc-2"})(["display:block;width:100%;margin-bottom:8px;object-fit:contain;position:absolute;height:100%;top:0;left:0;"," border-radius:",";"],C.t.borderHover(),P.rS.radius.large),R=a.ZP.p.withConfig({displayName:"AllTopicsPage__Title",componentId:"sc-1wxvfbc-3"})(["font-size:14px;font-weight:",";"],P.rS.fontWeights.semi),W=a.ZP.div.withConfig({displayName:"AllTopicsPage__HeaderRow",componentId:"sc-1wxvfbc-4"})(["display:flex;flex-direction:row;align-items:center;margin-top:24px;margin-bottom:12px;button{margin-left:12px;}"]),H=a.ZP.h1.withConfig({displayName:"AllTopicsPage__Header",componentId:"sc-1wxvfbc-5"})(["margin:0;"]),z=a.ZP.p.withConfig({displayName:"AllTopicsPage__Subheader",componentId:"sc-1wxvfbc-6"})(["margin-bottom:32px;"]),G=a.ZP.div.withConfig({displayName:"AllTopicsPage__SortRow",componentId:"sc-1wxvfbc-7"})(["display:flex;flex-direction:row;align-items:center;margin-top:8px;>:not(:first-child){margin-left:8px;}"]),O=a.ZP.span.withConfig({displayName:"AllTopicsPage__SortLabel",componentId:"sc-1wxvfbc-8"})(["font-size:12px;"]),U=!0;function D(e){var n=e.topics;return(0,E.jsx)(S,{initialTopics:n})}},20829:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return i(85681)}])}},function(e){e.O(0,[9774,2888,179],(function(){return n=20829,e(e.s=n);var n}));var n=e.O();_N_E=n}]);